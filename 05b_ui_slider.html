<!DOCTYPE HTML>
<html>

  <head>
    <script>


    // VARIABLES
    var canvas;
    var context;
    var frameCount;
    var N = 10;

    // classes
    var color = {};
    color.r = 0;
    color.g = 100;
    color.b = 100;

    var offset = {};
    offset.x = 0;
    offset.y = 0;

    var init = function() {
      canvas = document.getElementById("myCanvas");
      context = canvas.getContext('2d');
      frameCount = 0;
    }

    var setColorR = function (r) {
      color.r = r;
    }
    
    var setColorG = function (g) {
      color.g = g;
    }
    
    var setColorB = function (b) {
      color.b = b;
    }


    // ui functions
    var activate0 = function() {
      N = 10;
      color.r = 0;
      color.g = 100;
      color.b = 100;
    }
    
    var activate1 = function() {
      N = 20;
      color.r = 200;
      color.g = 200;
      color.b = 100;
    }

    var draw = function() {

      context.clearRect (0, 0, canvas.width, canvas.height);  

      for (i=0; i<N; i++) {
        for (j=0; j<N; j++) {
          context.fillStyle   = "rgba("+color.r+","+color.g+","+color.b+",1)";
          context.strokeStyle = "rgba(20,0,120,0.6)";
          context.fillRect (i*20+offset.x, j*20+offset.y, 15, 15);
        }
      }

      frameCount = frameCount+1;
      requestAnimationFrame(draw);
    };

    </script>
  </head>

  <body>


    <canvas id="myCanvas" width="800" height="600"></canvas>


    <button onclick="activate0();">mode0</button>
    <button onclick="activate1();">mode1</button> 
    
    <form>
      r
      <input type="range" onchange="setColorR(this.value);" id="r" value="90" min="0" max="255" step="1">
      <br>
      g
      <input type="range" onchange="setColorG(this.value);" id="r" value="90" min="0" max="255" step="1">
      <br>
      b
      <input type="range" onchange="setColorB(this.value);" id="b" value="90" min="0" max="255" step="1">
    </form>
    


    <script>
      init();
      draw();		
    </script>

  </body>

</html>      
